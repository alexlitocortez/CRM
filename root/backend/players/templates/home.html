{% extends 'base.html' %}
{% block content %}

{% if user.is_authenticated %}

<div class="container-fluid d-flex justify-content-around">


  <form method="get" action="{% url 'filtered_table' %}">
    <strong>Select Unit</strong>
    <select name="filter_option">
      <option value="all">All</option>
      <option value="Offense">Offense</option>
      <option value="Defense">Defense</option>
      <option value="Special Teams">Special Teams</option>
    </select>
    <strong>Select Position</strong>
    <select name="filter_option2">
      <option value="all">All</option>
      <option value="QB">QB</option>
      <option value="RB">RB</option>
      <option value="TE">TE</option>
    </select>
    <input type="submit" value="Filter">
  </form>

</div>

<br />

<table class="table table-striped table-hover table-bordered">
  <thead class="table-dark bg-danger">
    <tr class="text-warning">
      <th scope="col">First Name</th>
      <th scope="col">Last Name</th>
      <th scope="col">Unit</th>
      <th scope="col">Position</th>
      <th scope="col">ID</th>
    </tr>
  </thead>
  <tbody>
    {% if records %}
    {% for record in records %}
    <tr>
      <td> {{ record.first_name }}</td>
      <td> {{ record.last_name }}</td>
      <td> {{ record.unit }}</td>
      <td> {{ record.position }}</td>

      <td><a href="{% url 'record' record.id %}">{{ record.id }}</a> </td>
    </tr>
    {% endfor %}
    {% endif %}
    </tr>
  </tbody>
</table>

{% else %}

<form method="POST" action="{% url 'home' %}">
  <h1>Login</h1>
  <br />
  <form>
    {% csrf_token %}

    <div class="form-group">
      <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
        placeholder="Enter Username" name="username" required>
    </div>
    <div class="form-group">
      <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password" name="password"
        required>
    </div>
    <br />
    <button type="submit" class="btn btn-secondary">Login</button>
  </form>
</form>


{% endif %}

{% endblock %}